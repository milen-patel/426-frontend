(this.webpackJsonpfinalproject=this.webpackJsonpfinalproject||[]).push([[0],{40:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),s=n(16),o=n.n(s),i=(n(40),n(4)),c=n(3),l=n.n(c),d=n(7),u=n(8),b=n(9),h=n(11),p=n(10),j=n(5),m=n.n(j),x=n(0),O=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).nameFieldChanged=function(e){t.setState((function(){return{nameField:e.target.value}}))},t.emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onRegister=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"post",url:"https://backend-426.herokuapp.com/api/users/register",headers:{"Access-Control-Allow-Origin":"*"},data:{name:t.state.nameField,email:t.state.emailField,password:t.state.passField}});case 3:t.setState((function(){return{status:Object(x.jsx)(i.a,{to:"/426-frontend/login"})}})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),t.state={nameField:"",passField:"",emailField:"",status:""},t}return Object(b.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"","Name:",Object(x.jsx)("input",{type:"text",onChange:this.nameFieldChanged}),Object(x.jsx)("br",{}),"Email:",Object(x.jsx)("input",{type:"text",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),"Password:",Object(x.jsx)("input",{type:"password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),"Register:",Object(x.jsx)("button",{type:"button",onClick:this.onRegister,children:"Register"})]})}}]),n}(a.a.Component),f={val:""},v=(n(69),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onLogin=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"post",url:"https://backend-426.herokuapp.com/api/users/login",headers:{"Access-Control-Allow-Origin":"*"},data:{email:t.state.emailField,password:t.state.passField}});case 3:n=e.sent,f.val=n.data.data.token,t.setState((function(){return{status:Object(x.jsx)(i.a,{to:"/426-frontend/dashboard"})}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.state={passField:"",emailField:"",status:""},t}return Object(b.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("video",{src:"https://www.youtube.com/embed/_Sl8diqCAFw",autoPlay:!0,loop:!0,playsInline:!0,muted:!0}),Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("div",{class:"row",children:Object(x.jsx)("div",{class:"col-md-6",children:Object(x.jsxs)("div",{class:"card",children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"",Object(x.jsxs)("form",{class:"box",children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsxs)("p",{class:"text-muted",children:[" ","Please enter your Email and Password!"]}),Object(x.jsx)("input",{type:"text",placeholder:"Email",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",placeholder:"Password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-success btn-rounded","data-mdb-ripple-color":"dark",onClick:this.onLogin,children:"Login"})]})]})})})})]})}}]),n}(a.a.Component));n(70),n(22);var k=function(t){return t.items?(e=t.items.map((function(e){return Object(x.jsxs)("div",{class:"card",children:[Object(x.jsx)("h1",{class:"ct tm",children:e.name}),Object(x.jsxs)("h7",{class:"ct",children:["Hourly Income: ",e.hourlyIncome]}),Object(x.jsxs)("h7",{class:"ct",children:["Base Value: ",e.value]}),Object(x.jsxs)("h7",{class:"ct",children:["Level:",e.level," "]}),Object(x.jsx)("h4",{class:"ct",children:"Owners:"}),Object(x.jsxs)("ul",{class:"ct",children:[Object(x.jsxs)("li",{class:"ct mg",children:["Tier 1:  ",e.ownerEmailT1?e.ownerEmailT1:Object(x.jsx)("em",{children:"Unowned  "}),e.ownerEmailT1===t.email?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){t.onSell(t.email,e._id,1)},children:"Sell"}):""]}),Object(x.jsxs)("li",{class:"ct mg",children:["Tier 2: ",e.ownerEmailT2?e.ownerEmailT2:Object(x.jsx)("em",{children:"Unowned  "}),e.ownerEmailT2===t.email?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){t.onSell(t.email,e._id,2)},children:"Sell"}):""]}),Object(x.jsxs)("li",{class:"ct mg",children:["Tier 3: ",e.ownerEmailT3?e.ownerEmailT3:Object(x.jsx)("em",{children:"Unowned"}),e.ownerEmailT3===t.email?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){t.onSell(t.email,e._id,3)},children:"Sell"}):""]}),Object(x.jsxs)("li",{class:"ct mg",children:["Tier 4: ",e.ownerEmailT4?e.ownerEmailT4:Object(x.jsx)("em",{children:"Unowned  "}),e.ownerEmailT4===t.email?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){t.onSell(t.email,e._id,4)},children:"Sell"}):""]}),Object(x.jsxs)("li",{class:"ct mg",children:["Tier 5: ",e.ownerEmailT5?e.ownerEmailT5:Object(x.jsx)("em",{children:"Unowned  "}),e.ownerEmailT5===t.email?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){t.onSell(t.email,e._id,5)},children:"Sell"}):""]})]})]},e._id)})),Object(x.jsx)("div",{children:e})):Object(x.jsx)("h1",{children:"Buy Properties to Get Started..."});var e},g=(n(71),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).onUpgradeMultiplier=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.state.balance<=1e6)){e.next=3;break}return alert("You don't have enough money for this transaction!"),e.abrupt("return");case 3:return e.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/increaseMultiplier",headers:{"auth-token":f.val}});case 5:if(!(n=e.sent).data.error){e.next=9;break}return alert("Unable to upgrade!"),e.abrupt("return");case 9:t.setState((function(){return{balance:n.data.data.balance,multiplier:n.data.data.multiplier}}));case 10:case"end":return e.stop()}}),e)}))),t.onUpgrade=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.state.balance<=Math.pow(t.state.maxProperties,3))){e.next=3;break}return alert("You don't have enough money for this transaction!"),e.abrupt("return");case 3:return e.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/buyLevel",headers:{"auth-token":f.val}});case 5:if(!(n=e.sent).data.error){e.next=9;break}return alert("Unable to upgrade!"),e.abrupt("return");case 9:t.setState((function(){return{balance:n.data.data.balance,maxProperties:n.data.data.maxProperties}}));case 10:case"end":return e.stop()}}),e)}))),t.onRedirectRequest=function(){t.setState((function(){return{redirect:!0}}))},t.onLeaderboardRequest=function(){t.setState((function(){return{redirectLeader:!0}}))},t.onSell=function(){var e=Object(d.a)(l.a.mark((function e(n,r,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/sell",headers:{"auth-token":f.val},data:{email:n,id:r,tier:a}});case 2:s=e.sent,t.setState((function(){return{maxProperties:s.data.data.maxProperties,location:s.data.data.user.location,numProperties:s.data.data.user.properties.length,properties:s.data.data.properties}}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.state={multiplier:1},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.val){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":f.val}});case 4:(e=t.sent).data.error&&(window.location.href="../login"),this.setState((function(){return{email:e.data.data.email,name:e.data.data.name,created:e.data.data.accountCreatedDate,balance:e.data.data.balance,multiplier:e.data.data.multiplier,maxProperties:e.data.data.maxProperties,experience:e.data.data.experience,location:e.data.data.location,numProperties:e.data.data.properties.length,properties:e.data.properties}}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(t){return t?"$"+(t=parseFloat(t.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0"}},{key:"render",value:function(){return f.val?this.state.redirect?Object(x.jsx)(i.a,{to:"/426-frontend/dashboard"}):this.state.redirectLeader?Object(x.jsx)(i.a,{to:"/426-frontend/leaderboard"}):Object(x.jsxs)("div",{class:"ml",children:[Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:this.onRedirectRequest,children:"Go Back to Dashboard"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:this.onLeaderboardRequest,children:"Go to Leaderboard"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{class:"ml",children:"Account Information:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Email: "}),this.state.email]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Name: "}),this.state.name]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Account Created On: "}),this.state.created]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Balance: "}),this.numberWithCommas(this.state.balance)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Maximum Properties: "}),this.state.maxProperties]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Total Earnings: "}),this.numberWithCommas(this.state.experience)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Multiplier: "}),this.state.multiplier.toFixed(2)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Latitude: "}),this.state.location?this.state.location[0]:""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Longitude: "}),this.state.location?this.state.location[1]:""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Number of Properties: "}),this.state.numProperties]})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{class:"ml",children:"Upgrades"}),Object(x.jsxs)("p",{class:"ml",children:["You can currently own up to ",this.state.maxProperties," properties and you currently own ",this.state.numProperties,". You can upgrade to"," ",2*this.state.maxProperties," slots for"," ",this.numberWithCommas(Math.pow(this.state.maxProperties,3))]}),this.state.balance>=Math.pow(this.state.maxProperties,3)?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-success btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",onClick:this.onUpgrade,children:"Upgrade"}):Object(x.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",children:"Not Enough funds!"}),Object(x.jsxs)("p",{class:"ml",children:["Your income multiplier is currently ",this.state.multiplier.toFixed(2),". You can upgrade to ",(this.state.multiplier+.01).toFixed(2)," for $1,000,000"]}),this.state.balance>=1e6?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-success btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",onClick:this.onUpgradeMultiplier,children:"Upgrade"}):Object(x.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",children:"Not Enough Funds!"}),Object(x.jsx)("hr",{})]}),Object(x.jsx)("h1",{class:"ml",children:"Your Properties:"}),Object(x.jsx)("div",{class:"wrapper",children:Object(x.jsx)(k,{items:this.state.properties,email:this.state.email,onSell:this.onSell.bind(this)})})]}):Object(x.jsx)(i.a,{to:"/426-frontend/login"})}}]),n}(a.a.Component)),w=n(35),y=n.p+"static/media/MapMarkerIcon.fb4229c5.png",S=function(t){return Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:y,style:{width:"25px"},alt:"Property visualized on the map",onClick:function(){t.onHover(t.location)}}),t.$hover?t.name:""]},t.name)},C=n.p+"static/media/UserOnMapIcon.3e0031bf.png";var T=function(t){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:C,style:{width:"30px"},alt:"User visualized on the map."})})},L=(n(72),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).clickedMap=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.distanceInmBetweenEarthCoordinates(r.props.userLat,r.props.userLon,e.lat,e.lng),t.next=3,m()("http://api.positionstack.com/v1/reverse?access_key=".concat("dddaff35206bf64a3654b34d2e499cec","&query=").concat(e.lat,",").concat(e.lng));case 3:a=t.sent,r.setState((function(){return{walkLat:e.lat,walkLon:e.lng,walkCost:n.toFixed(2),address:a.data.data[0].label}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.onHover=function(t){var e=r.props.properties.find((function(e){return e.location[0]===t[0]&&e.location[1]===t[1]}));r.setState((function(){return{hoverInfo:e}}))},r.degreesToRadians=function(t){return t*Math.PI/180},r.state={walkLat:r.props.userLat,walkLon:r.props.userLon,walkCost:0},r}return Object(b.a)(n,[{key:"render",value:function(){var t,e,n=this;t=Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("strong",{class:"ll",children:["Latitude: ",this.state.walkLat]}),Object(x.jsxs)("strong",{class:"ll",children:["Longitude:",this.state.walkLon,this.state.address?Object(x.jsxs)("p",{children:["Address: ",this.state.address]}):""]}),Object(x.jsx)("br",{}),Object(x.jsxs)("strong",{class:"ll",children:["Cost: $",this.state.walkCost]}),Object(x.jsx)("br",{}),this.props.userBalance>this.state.walkCost?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-success btn-rounded mbtn","data-mdb-ripple-color":"dark",onClick:Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.state.walkCost){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.props.moveHandler(n.state.walkLat,n.state.walkLon);case 4:if(!t.sent){t.next=6;break}n.setState((function(){return{walkCost:0}}));case 6:case"end":return t.stop()}}),t)}))),children:"Move"}):Object(x.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-rounded mbtn","data-mdb-ripple-color":"dark",children:"Insufficient Funds"}),Object(x.jsx)("hr",{})]}),this.props.properties&&(e=this.props.properties.map((function(t){return Object(x.jsx)(S,{location:t.location,name:t.name,lat:t.location[0],lng:t.location[1],onHover:n.onHover},t.location[0]+""+t.location[1])})));var r="Click a property for more details";return this.state.hoverInfo&&(r=Object(x.jsxs)("div",{children:[Object(x.jsxs)("h5",{children:["Name: ",this.state.hoverInfo.name]}),Object(x.jsxs)("h5",{children:["Value: ",this.state.hoverInfo.value]}),Object(x.jsxs)("h5",{children:["Income: ",this.state.hoverInfo.hourlyIncome]})]})),Object(x.jsxs)("div",{children:[t,r,Object(x.jsx)("div",{style:{width:"500px",height:"500px",marginLeft:"auto",marginRight:"auto",border:"15px solid green",borderRadius:"15px"},children:Object(x.jsxs)(w.a,{bootstrapURLKeys:{key:"AIzaSyDcN-AS46onnWUOnjCJXpmxr57UjSebDMM",language:"en",region:"US"},center:{lat:this.props.userLat,lng:this.props.userLon},defaultZoom:15,onClick:this.clickedMap,children:[e,Object(x.jsx)(T,{lat:this.props.userLat,lng:this.props.userLon,name:"Me"})]})})]})}},{key:"distanceInmBetweenEarthCoordinates",value:function(t,e,n,r){var a=this.degreesToRadians(n-t),s=this.degreesToRadians(r-e);t=this.degreesToRadians(t),n=this.degreesToRadians(n);var o=Math.sin(a/2)*Math.sin(a/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(n);return 6371e3*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}}]),n}(a.a.Component)),F=(n(73),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"generateBuyButton",value:function(t,e,n){var r=this;return n>this.props.balance?Object(x.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-rounded nebtn","data-mdb-ripple-color":"dark",children:"Not enough $$$"}):Object(x.jsxs)("button",{type:"button",class:"btn btn-outline-success btn-rounded pbtn","data-mdb-ripple-color":"dark",onClick:function(){r.props.handler(t,e)},children:["Purchase for ","".concat(this.numberWithCommas(n))]})}},{key:"numberWithCommas",value:function(t){return t?"$"+(t=parseFloat(t.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"generateEntries",value:function(){var t=this;return this.props.items&&0!==this.props.items.length?this.props.items.map((function(e){return Object(x.jsxs)("div",{class:"card ct",children:[Object(x.jsx)("h1",{class:"tm",children:e.name}),Object(x.jsxs)("h5",{children:["Hourly Income: ",e.hourlyIncome]}),Object(x.jsxs)("h5",{children:["Base Value: ",e.value]}),Object(x.jsxs)("h5",{children:["Level:",e.level," "]}),Object(x.jsx)("h5",{children:"Owners:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["Tier 1:"," ",e.ownerEmailT1?e.ownerEmailT1:t.generateBuyButton(e._id,1,Math.pow(e.value,1))]}),Object(x.jsxs)("li",{children:["Tier 2:"," ",e.ownerEmailT2?e.ownerEmailT2:t.generateBuyButton(e._id,2,Math.pow(e.value,2))]}),Object(x.jsxs)("li",{children:["Tier 3:"," ",e.ownerEmailT3?e.ownerEmailT3:t.generateBuyButton(e._id,3,Math.pow(e.value,3))]}),Object(x.jsxs)("li",{children:["Tier 4:"," ",e.ownerEmailT4?e.ownerEmailT4:t.generateBuyButton(e._id,4,Math.pow(e.value,4))]}),Object(x.jsxs)("li",{children:["Tier 5:"," ",e.ownerEmailT5?e.ownerEmailT5:t.generateBuyButton(e._id,5,Math.pow(e.value,5))]})]})]},e._id)})):Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"No nearby properties found..."})})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:this.generateEntries()})}}]),n}(a.a.Component)),P=(n(74),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this)).changePage=function(){t.setState((function(){return{redirect:Object(x.jsx)(i.a,{to:"/426-frontend/personal"})}}))},t.makeMove=function(){var e=Object(d.a)(l.a.mark((function e(n,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/move",headers:{"auth-token":f.val},data:{lat:n,lon:r}});case 2:return a=e.sent,e.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:n,lon:r,range:500}});case 5:return s=e.sent,t.setState((function(){return{balance:a.data.data.balance,lat:a.data.data.lat,lon:a.data.data.lon,propertiesToShow:s.data}})),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.makePurchase=function(){var e=Object(d.a)(l.a.mark((function e(n,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/buy",headers:{"auth-token":f.val},data:{propertyId:n,tier:r}});case 2:return a=e.sent,e.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:t.state.lat,lon:t.state.lon,range:500}});case 5:s=e.sent,a.data.error?t.setState((function(){return{propertiesToShow:s.data}})):t.setState((function(){return{balance:a.data.data.user.balance,propertiesToShow:s.data}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.state={},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(d.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.val){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":f.val}});case 4:return(e=t.sent).data.error&&(window.location.href="../login"),t.next=8,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:e.data.data.location[0],lon:e.data.data.location[1],range:500}});case 8:n=t.sent,e.data.error&&(window.location.href="../login"),this.setState((function(){return{balance:e.data.data.balance,lat:e.data.data.location[0],lon:e.data.data.location[1],propertiesToShow:n.data}}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(t){return t?"$"+(t=parseFloat(t.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"render",value:function(){var t=this;if(!f.val)return Object(x.jsx)(i.a,{to:"/426-frontend/login"});var e=this.state.propertiesToShow;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{class:"ll cn",children:"A game by Casey S. and Milen P."}),this.state.redirect,this.state.goToLeaderboard,Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:this.changePage,children:"Go to Account View"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(){return{goToLeaderboard:Object(x.jsx)(i.a,{to:"/426-frontend/leaderboard"})}}))},children:"Go to Leaderboard"}),Object(x.jsx)("hr",{}),Object(x.jsx)("p",{class:"cn",children:Object(x.jsxs)("strong",{class:"ll cn",children:["Balance:  ",this.numberWithCommas(this.state.balance)]})}),Object(x.jsx)("div",{class:"map ct",children:Object(x.jsx)(L,{userLat:this.state.lat,userLon:this.state.lon,properties:this.state.propertiesToShow,userBalance:this.state.balance,moveHandler:this.makeMove.bind(this),focusHandler:this.makePurchase.bind(this)})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsx)("h3",{class:"ct",children:this.state.propertiesToShow?"Showing ".concat(this.state.propertiesToShow.length," properties"):"Showing no properties"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton ","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.value>e.value?1:-1}))}}))},children:"Sort by Value Ascending"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.value>e.value?-1:1}))}}))},children:"Sort by Value Descending"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.hourlyIncome>e.hourlyIncome?1:-1}))}}))},children:"Sort by Income Ascending"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.hourlyIncome>e.hourlyIncome?-1:1}))}}))},children:"Sort by Income Descending"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.level>e.level?1:-1}))}}))},children:"Sort by Level Ascending"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(t){return{propertiesToShow:t.propertiesToShow.sort((function(t,e){return t.level>e.level?-1:1}))}}))},children:"Sort by Level Descending"}),Object(x.jsx)(F,{items:e,balance:this.state.balance,handler:this.makePurchase.bind(this),id:e},this.state.propertiesToShow)]})]})}}]),n}(a.a.Component)),M=(n(75),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={redirectAccountView:!1,redirectDashboard:!1},r}return Object(b.a)(n,[{key:"numberWithCommas",value:function(t){return t?"$"+(t=parseFloat(t.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"componentDidMount",value:function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.val){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/leaderboard",headers:{"auth-token":f.val}});case 4:if(!(e=t.sent).data.error){t.next=8;break}return alert("Unable to access leaderboard"),t.abrupt("return");case 8:this.setState((function(){return{people:e.data.data}}));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.redirectAccountView?Object(x.jsx)(i.a,{to:"/426-frontend/personal"}):this.state.redirectDashboard?Object(x.jsx)(i.a,{to:"/426-frontend/dashboard"}):Object(x.jsxs)("div",{class:"pad",children:[Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(){return{redirectDashboard:!0}}))},children:"Dashboard"}),Object(x.jsx)("button",{type:"button",class:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:function(){t.setState((function(){return{redirectAccountView:!0}}))},children:"Account View"}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{class:"ct",children:"Leaderboard"}),Object(x.jsx)("ol",{children:this.state.people?this.state.people.map((function(e){return Object(x.jsx)("div",{class:"card c2",children:Object(x.jsxs)("li",{class:"ct hc",children:[Object(x.jsx)("h3",{class:"hc",children:e.name}),Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Properties Owned:"})," ",e.numProperties,Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Lifetime Earnings:"})," ",t.numberWithCommas(e.experience)]},e.name+e.experience)})})):"No Players Found in Database..."})]})}}]),n}(a.a.Component));n(76);var E=function(){var t=Object(i.g)();return Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/426-frontend/",children:Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("div",{class:"row-md-6",children:Object(x.jsx)("div",{class:"col-md-6",children:Object(x.jsx)("div",{class:"card",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h1",{class:"display-3",children:"Welcome to the Game"}),Object(x.jsx)("button",{onClick:function(){t.push("/426-frontend/login")},children:"Move to Login"}),Object(x.jsx)("button",{onClick:function(){t.push("/426-frontend/register")},children:"Move to Register"})]})})})})})}),Object(x.jsx)(i.b,{path:"/426-frontend/login",children:Object(x.jsx)(v,{})}),Object(x.jsx)(i.b,{path:"/426-frontend/register",children:Object(x.jsx)(O,{})}),Object(x.jsx)(i.b,{path:"/426-frontend/personal",children:Object(x.jsx)(g,{})}),Object(x.jsx)(i.b,{path:"/426-frontend/dashboard",children:Object(x.jsx)(P,{})}),Object(x.jsx)(i.b,{path:"/426-frontend/leaderboard",children:Object(x.jsx)(M,{})})]})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),s(t),o(t)}))},B=n(17);o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(B.a,{children:Object(x.jsx)(E,{})})}),document.getElementById("root")),I()}},[[77,1,2]]]);
//# sourceMappingURL=main.64d7c4d8.chunk.js.map
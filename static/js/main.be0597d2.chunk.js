(this.webpackJsonpfinalproject=this.webpackJsonpfinalproject||[]).push([[0],{40:function(e,t,n){},60:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(16),o=n.n(s),i=(n(40),n(5)),c=n(3),l=n.n(c),d=n(6),u=n(8),b=n(9),h=n(11),p=n(10),j=n(4),m=n.n(j),x=(n(60),n(0)),O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).nameFieldChanged=function(t){e.setState((function(){return{nameField:t.target.value}}))},e.emailFieldChanged=function(t){e.setState((function(){return{emailField:t.target.value}}))},e.passwordFieldChanged=function(t){e.setState((function(){return{passField:t.target.value}}))},e.onRegister=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m()({method:"post",url:"https://backend-426.herokuapp.com/api/users/register",headers:{"Access-Control-Allow-Origin":"*"},data:{name:e.state.nameField,email:e.state.emailField,password:e.state.passField}});case 3:e.setState((function(){return{status:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/login"})}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.setState((function(){return{status:t.t0.toString()}}));case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e.state={nameField:"",passField:"",emailField:"",status:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"im",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsxs)("div",{className:"c3",children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"",Object(x.jsxs)("form",{className:"box eh",children:[Object(x.jsx)("h1",{children:"Register"}),Object(x.jsxs)("p",{className:"text-muted",children:[" ","Please enter your Name, Email, and Password!"]}),Object(x.jsx)("input",{type:"text",placeholder:"Name",onChange:this.nameFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"text",placeholder:"Email",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",placeholder:"Password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded","data-mdb-ripple-color":"dark",onClick:this.onRegister,children:"Register"})]})]})})})})}}]),n}(r.a.Component),f={val:""},g=(n(70),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).emailFieldChanged=function(t){e.setState((function(){return{emailField:t.target.value}}))},e.passwordFieldChanged=function(t){e.setState((function(){return{passField:t.target.value}}))},e.onLogin=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m()({method:"post",url:"https://backend-426.herokuapp.com/api/users/login",headers:{"Access-Control-Allow-Origin":"*"},data:{email:e.state.emailField,password:e.state.passField}});case 3:n=t.sent,f.val=n.data.data.token,e.setState((function(){return{status:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/dashboard"})}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState((function(){return{status:t.t0.toString()}}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.state={passField:"",emailField:"",status:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"im",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row-md-5",children:Object(x.jsx)("div",{className:"col-md-6 ",children:Object(x.jsxs)("div",{className:"c3",children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"",Object(x.jsxs)("form",{className:"box",children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsxs)("p",{className:"text-muted",children:[" ","Please enter your Email and Password!"]}),Object(x.jsx)("input",{type:"text",placeholder:"Email",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",placeholder:"Password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded","data-mdb-ripple-color":"dark",onClick:this.onLogin,children:"Login"})]})]})})})})})}}]),n}(r.a.Component));n(71),n(20);var v=function(e){return e.items?(t=e.items.map((function(t){return Object(x.jsxs)("div",{className:"card cpo",children:[Object(x.jsx)("h1",{className:"ct tm",children:t.name}),Object(x.jsxs)("h7",{className:"ct",children:["Hourly Income: ",t.hourlyIncome]}),Object(x.jsxs)("h7",{className:"ct",children:["Base Value: ",t.value]}),Object(x.jsxs)("h7",{className:"ct",children:["Level:",t.level," "]}),Object(x.jsx)("h4",{className:"ct",children:"Owners:"}),Object(x.jsxs)("ul",{className:"ct c ",children:[Object(x.jsxs)("li",{className:"ct mg",children:["Tier 1:  ",t.ownerEmailT1?t.ownerEmailT1:Object(x.jsx)("em",{children:"Unowned  "}),t.ownerEmailT1===e.email?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){e.onSell(e.email,t._id,1)},children:"Sell"}):""]}),Object(x.jsxs)("li",{className:"ct mg",children:["Tier 2: ",t.ownerEmailT2?t.ownerEmailT2:Object(x.jsx)("em",{children:"Unowned  "}),t.ownerEmailT2===e.email?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){e.onSell(e.email,t._id,2)},children:"Sell"}):""]}),Object(x.jsxs)("li",{className:"ct mg ",children:["Tier 3: ",t.ownerEmailT3?t.ownerEmailT3:Object(x.jsx)("em",{children:"Unowned"}),t.ownerEmailT3===e.email?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){e.onSell(e.email,t._id,3)},children:"Sell"}):""]}),Object(x.jsxs)("li",{className:"ct mg",children:["Tier 4: ",t.ownerEmailT4?t.ownerEmailT4:Object(x.jsx)("em",{children:"Unowned  "}),t.ownerEmailT4===e.email?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){e.onSell(e.email,t._id,4)},children:"Sell"}):""]}),Object(x.jsxs)("li",{className:"ct mg",children:["Tier 5: ",t.ownerEmailT5?t.ownerEmailT5:Object(x.jsx)("em",{children:"Unowned  "}),t.ownerEmailT5===e.email?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-warning btn-rounded sbtn","data-mdb-ripple-color":"dark",onClick:function(){e.onSell(e.email,t._id,5)},children:"Sell"}):""]})]})]},t._id)})),Object(x.jsx)("div",{children:t})):Object(x.jsx)("h1",{children:"Buy Properties to Get Started..."});var t},k=(n(72),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).onUpgradeMultiplier=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.balance<=1e6)){t.next=3;break}return alert("You don't have enough money for this transaction!"),t.abrupt("return");case 3:return t.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/increaseMultiplier",headers:{"auth-token":f.val}});case 5:if(!(n=t.sent).data.error){t.next=9;break}return alert("Unable to upgrade!"),t.abrupt("return");case 9:e.setState((function(){return{balance:n.data.data.balance,multiplier:n.data.data.multiplier}}));case 10:case"end":return t.stop()}}),t)}))),e.onUpgrade=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.balance<=Math.pow(e.state.maxProperties,3))){t.next=3;break}return alert("You don't have enough money for this transaction!"),t.abrupt("return");case 3:return t.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/buyLevel",headers:{"auth-token":f.val}});case 5:if(!(n=t.sent).data.error){t.next=9;break}return alert("Unable to upgrade!"),t.abrupt("return");case 9:e.setState((function(){return{balance:n.data.data.balance,maxProperties:n.data.data.maxProperties}}));case 10:case"end":return t.stop()}}),t)}))),e.onRedirectRequest=function(){e.setState((function(){return{redirect:!0}}))},e.onLeaderboardRequest=function(){e.setState((function(){return{redirectLeader:!0}}))},e.onSell=function(){var t=Object(d.a)(l.a.mark((function t(n,a,r){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/sell",headers:{"auth-token":f.val},data:{email:n,id:a,tier:r}});case 2:s=t.sent,e.setState((function(){return{maxProperties:s.data.data.maxProperties,location:s.data.data.user.location,numProperties:s.data.data.user.properties.length,properties:s.data.data.properties}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.state={multiplier:1},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.val){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":f.val}});case 4:(t=e.sent).data.error&&(window.location.href="../login"),this.setState((function(){return{email:t.data.data.email,name:t.data.data.name,created:t.data.data.accountCreatedDate,balance:t.data.data.balance,multiplier:t.data.data.multiplier,maxProperties:t.data.data.maxProperties,experience:t.data.data.experience,location:t.data.data.location,numProperties:t.data.data.properties.length,properties:t.data.properties}}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(e){return e?"$"+(e=parseFloat(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0"}},{key:"render",value:function(){return f.val?this.state.redirect?Object(x.jsx)(i.a,{to:"/Earth3-Frontend/dashboard"}):this.state.redirectLeader?Object(x.jsx)(i.a,{to:"/Earth3-Frontend/leaderboard"}):Object(x.jsxs)("div",{className:"ml back",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:this.onRedirectRequest,children:"Go Back to Dashboard"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:this.onLeaderboardRequest,children:"Go to Leaderboard"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"ml",children:"Account Information:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Email: "}),this.state.email]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Name: "}),this.state.name]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Account Created On: "}),this.state.created]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Balance: "}),this.numberWithCommas(this.state.balance)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Maximum Properties: "}),this.state.maxProperties]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Total Earnings: "}),this.numberWithCommas(this.state.experience)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Multiplier: "}),this.state.multiplier.toFixed(2)]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Latitude: "}),this.state.location?this.state.location[0]:""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Longitude: "}),this.state.location?this.state.location[1]:""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Number of Properties: "}),this.state.numProperties]})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{className:"ml",children:"Upgrades"}),Object(x.jsxs)("p",{className:"ml",children:["You can currently own up to ",this.state.maxProperties," properties and you currently own ",this.state.numProperties,". You can upgrade to"," ",2*this.state.maxProperties," slots for"," ",this.numberWithCommas(Math.pow(this.state.maxProperties,3))]}),this.state.balance>=Math.pow(this.state.maxProperties,3)?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",onClick:this.onUpgrade,children:"Upgrade"}):Object(x.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",children:"Not Enough funds!"}),Object(x.jsxs)("p",{className:"ml",children:["Your income multiplier is currently ",this.state.multiplier.toFixed(2),". You can upgrade to ",(this.state.multiplier+.01).toFixed(2)," for $1,000,000"]}),this.state.balance>=1e6?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",onClick:this.onUpgradeMultiplier,children:"Upgrade"}):Object(x.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-rounded ml ms mbuttons","data-mdb-ripple-color":"dark",children:"Not Enough Funds!"}),Object(x.jsx)("hr",{})]}),Object(x.jsx)("h1",{className:"ml",children:"Your Properties:"}),Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsx)(v,{items:this.state.properties,email:this.state.email,onSell:this.onSell.bind(this)})})]}):Object(x.jsx)(i.a,{to:"/Earth3-Frontend/login"})}}]),n}(r.a.Component)),y=n(35),w=n.p+"static/media/MapMarkerIcon.fb4229c5.png",S=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:w,style:{width:"25px"},alt:"Property visualized on the map",onClick:function(){e.onHover(e.location)}}),e.$hover?e.name:""]},e.name)},N=n.p+"static/media/UserOnMapIcon.3e0031bf.png";var C=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:N,style:{width:"30px"},alt:"User visualized on the map."})})},T=(n(73),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).clickedMap=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.distanceInmBetweenEarthCoordinates(a.props.userLat,a.props.userLon,t.lat,t.lng),e.next=3,m()("https://api.opencagedata.com/geocode/v1/json?key=".concat("b1116aa90c1c418994072038a848a210","&pretty=1&q=").concat(t.lat,"%2C").concat(t.lng));case 3:r=e.sent,a.setState((function(){return{walkLat:t.lat,walkLon:t.lng,walkCost:n.toFixed(2),address:r.data.results[0].formatted}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onHover=function(e){var t=a.props.properties.find((function(t){return t.location[0]===e[0]&&t.location[1]===e[1]}));a.setState((function(){return{hoverInfo:t}}))},a.degreesToRadians=function(e){return e*Math.PI/180},a.state={walkLat:a.props.userLat,walkLon:a.props.userLon,walkCost:0},a}return Object(b.a)(n,[{key:"render",value:function(){var e,t,n=this;e=Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("strong",{className:"ll",children:["Latitude: ",this.state.walkLat]}),Object(x.jsxs)("strong",{className:"ll",children:["Longitude:",this.state.walkLon,this.state.address?Object(x.jsxs)("p",{children:["Address: ",this.state.address]}):""]}),Object(x.jsx)("br",{}),Object(x.jsxs)("strong",{className:"ll",children:["Cost: $",this.state.walkCost]}),Object(x.jsx)("br",{}),this.props.userBalance>this.state.walkCost?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded mbtn","data-mdb-ripple-color":"dark",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.state.walkCost){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.props.moveHandler(n.state.walkLat,n.state.walkLon);case 4:if(!e.sent){e.next=6;break}n.setState((function(){return{walkCost:0}}));case 6:case"end":return e.stop()}}),e)}))),children:"Move"}):Object(x.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-rounded mbtn","data-mdb-ripple-color":"dark",children:"Insufficient Funds"}),Object(x.jsx)("hr",{})]}),this.props.properties&&(t=this.props.properties.map((function(e){return Object(x.jsx)(S,{location:e.location,name:e.name,lat:e.location[0],lng:e.location[1],onHover:n.onHover},e.location[0]+""+e.location[1])})));var a="Click a property for more details";return this.state.hoverInfo&&(a=Object(x.jsxs)("div",{className:"locInfo",children:[Object(x.jsx)("h3",{children:this.state.hoverInfo.name}),Object(x.jsxs)("h5",{children:["Value: ",this.state.hoverInfo.value]}),Object(x.jsxs)("h5",{children:["Income: ",this.state.hoverInfo.hourlyIncome]})]})),Object(x.jsxs)("div",{children:[e,a,Object(x.jsx)("div",{style:{width:"800px",height:"500px",marginLeft:"auto",marginRight:"auto",border:"15px solid #032544",borderRadius:"15px"},children:Object(x.jsxs)(y.a,{bootstrapURLKeys:{key:"AIzaSyDcN-AS46onnWUOnjCJXpmxr57UjSebDMM",language:"en",region:"US"},center:{lat:this.props.userLat,lng:this.props.userLon},defaultZoom:15,onClick:this.clickedMap,children:[t,Object(x.jsx)(C,{lat:this.props.userLat,lng:this.props.userLon,name:"Me"})]})})]})}},{key:"distanceInmBetweenEarthCoordinates",value:function(e,t,n,a){var r=this.degreesToRadians(n-e),s=this.degreesToRadians(a-t);e=this.degreesToRadians(e),n=this.degreesToRadians(n);var o=Math.sin(r/2)*Math.sin(r/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(e)*Math.cos(n);return 6371e3*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}}]),n}(r.a.Component)),E=(n(74),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"generateBuyButton",value:function(e,t,n){var a=this;return n>this.props.balance?Object(x.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-rounded nebtn","data-mdb-ripple-color":"dark",children:"Not enough $$$"}):Object(x.jsx)("button",{type:"button",className:"btn btn-outline-success btn-rounded pbtn","data-mdb-ripple-color":"dark",onClick:function(){a.props.handler(e,t)},children:"".concat(this.numberWithCommas(n))})}},{key:"numberWithCommas",value:function(e){return e?"$"+(e=parseFloat(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"generateEntries",value:function(){var e=this;return this.props.items&&0!==this.props.items.length?this.props.items.map((function(t){return Object(x.jsxs)("div",{className:"card ct",children:[Object(x.jsx)("h1",{className:"tm",children:t.name}),Object(x.jsxs)("h5",{children:["Hourly Income: ",t.hourlyIncome]}),Object(x.jsxs)("h5",{children:["Base Value: ",t.value]}),Object(x.jsxs)("h5",{children:["Level:",t.level," "]}),Object(x.jsx)("h5",{children:"Owners:"}),Object(x.jsxs)("ul",{className:"c ct",children:[Object(x.jsxs)("li",{children:["Tier 1:"," ",t.ownerEmailT1?t.ownerEmailT1:e.generateBuyButton(t._id,1,Math.pow(t.value,1))]}),Object(x.jsxs)("li",{children:["Tier 2:"," ",t.ownerEmailT2?t.ownerEmailT2:e.generateBuyButton(t._id,2,Math.pow(t.value,2))]}),Object(x.jsxs)("li",{children:["Tier 3:"," ",t.ownerEmailT3?t.ownerEmailT3:e.generateBuyButton(t._id,3,Math.pow(t.value,3))]}),Object(x.jsxs)("li",{children:["Tier 4:"," ",t.ownerEmailT4?t.ownerEmailT4:e.generateBuyButton(t._id,4,Math.pow(t.value,4))]}),Object(x.jsxs)("li",{children:["Tier 5:"," ",t.ownerEmailT5?t.ownerEmailT5:e.generateBuyButton(t._id,5,Math.pow(t.value,5))]})]})]},t._id)})):Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"No nearby properties found..."})})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:this.generateEntries()})}}]),n}(r.a.Component)),F=(n(75),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).changePage=function(){e.setState((function(){return{redirect:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/personal"})}}))},e.makeMove=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/user/move",headers:{"auth-token":f.val},data:{lat:n,lon:a}});case 2:return r=t.sent,t.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:n,lon:a,range:500}});case 5:return s=t.sent,e.setState((function(){return{balance:r.data.data.balance,lat:r.data.data.lat,lon:r.data.data.lon,propertiesToShow:s.data}})),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.makePurchase=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/buy",headers:{"auth-token":f.val},data:{propertyId:n,tier:a}});case 2:return r=t.sent,t.next=5,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:e.state.lat,lon:e.state.lon,range:500}});case 5:s=t.sent,r.data.error?e.setState((function(){return{propertiesToShow:s.data}})):e.setState((function(){return{balance:r.data.data.user.balance,propertiesToShow:s.data}}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.state={},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.val){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":f.val}});case 4:return(t=e.sent).data.error&&(window.location.href="../login"),e.next=8,m()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":f.val},data:{lat:t.data.data.location[0],lon:t.data.data.location[1],range:500}});case 8:n=e.sent,t.data.error&&(window.location.href="../login"),this.setState((function(){return{balance:t.data.data.balance,lat:t.data.data.location[0],lon:t.data.data.location[1],propertiesToShow:n.data}}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(e){return e?"$"+(e=parseFloat(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"render",value:function(){var e=this;if(!f.val)return Object(x.jsx)(i.a,{to:"/Earth3-Frontend/login"});var t=this.state.propertiesToShow;return Object(x.jsxs)("div",{className:"cw",children:[this.state.redirect,this.state.goToLeaderboard,Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:this.changePage,children:"Go to Account View"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(){return{goToLeaderboard:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/leaderboard"})}}))},children:"Go to Leaderboard"}),Object(x.jsx)("hr",{}),Object(x.jsx)("p",{className:"cn",children:Object(x.jsxs)("strong",{className:"ll cn",children:["Balance:  ",this.numberWithCommas(this.state.balance)]})}),Object(x.jsx)("div",{className:"map ct",children:Object(x.jsx)(T,{userLat:this.state.lat,userLon:this.state.lon,properties:this.state.propertiesToShow,userBalance:this.state.balance,moveHandler:this.makeMove.bind(this),focusHandler:this.makePurchase.bind(this)})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsx)("h3",{className:"ct",children:this.state.propertiesToShow?"Showing ".concat(this.state.propertiesToShow.length," properties"):"Showing no properties"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton ","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.value>t.value?1:-1}))}}))},children:"Sort by Value Ascending"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.value>t.value?-1:1}))}}))},children:"Sort by Value Descending"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.hourlyIncome>t.hourlyIncome?1:-1}))}}))},children:"Sort by Income Ascending"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.hourlyIncome>t.hourlyIncome?-1:1}))}}))},children:"Sort by Income Descending"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.level>t.level?1:-1}))}}))},children:"Sort by Level Ascending"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbutton","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(e){return{propertiesToShow:e.propertiesToShow.sort((function(e,t){return e.level>t.level?-1:1}))}}))},children:"Sort by Level Descending"}),Object(x.jsx)("div",{align:"center",children:Object(x.jsx)(E,{items:t,balance:this.state.balance,handler:this.makePurchase.bind(this),id:t},this.state.propertiesToShow)})]})]})}}]),n}(r.a.Component)),P=(n(76),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={redirectAccountView:!1,redirectDashboard:!1},a}return Object(b.a)(n,[{key:"numberWithCommas",value:function(e){return e?"$"+(e=parseFloat(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.val){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"get",url:"https://backend-426.herokuapp.com/api/user/leaderboard",headers:{"auth-token":f.val}});case 4:if(!(t=e.sent).data.error){e.next=8;break}return alert("Unable to access leaderboard"),e.abrupt("return");case 8:this.setState((function(){return{people:t.data.data}}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.redirectAccountView?Object(x.jsx)(i.a,{to:"/Earth3-Frontend/personal"}):this.state.redirectDashboard?Object(x.jsx)(i.a,{to:"/Earth3-Frontend/dashboard"}):Object(x.jsxs)("div",{className:"pad",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(){return{redirectDashboard:!0}}))},children:"Dashboard"}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-rounded ml mt tbuttons","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(){return{redirectAccountView:!0}}))},children:"Account View"}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{className:"lt",children:"Leaderboard"}),Object(x.jsx)("ol",{className:"list",children:this.state.people?this.state.people.map((function(t){return Object(x.jsx)("div",{className:"card c2 ct",children:Object(x.jsxs)("li",{className:"ct hc",children:[Object(x.jsx)("hr",{className:"hr50"}),Object(x.jsx)("h3",{className:"hc",children:t.name}),Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Properties Owned:"})," ",t.numProperties,Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Lifetime Earnings:"})," ",e.numberWithCommas(t.experience)]},t.name+t.experience)})})):"Loading..."})]})}}]),n}(r.a.Component)),L=(n(77),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={redirect:null,numPlayers:0,numProperties:0,totalEarnings:0},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"get",url:"https://backend-426.herokuapp.com/api/stats"});case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return");case 5:this.setState((function(){return{numPlayers:t.data.numUsers,numProperties:t.data.numProperties,totalEarnings:t.data.totalEarnings}}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(e){return e?"$"+(e=parseFloat(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},{key:"render",value:function(){var e=this;return this.state.redirect?this.state.redirect:Object(x.jsxs)("div",{className:"home im",children:[Object(x.jsx)("h1",{className:"display-3 gameT",children:"Earth 3.0"}),Object(x.jsx)("div",{children:Object(x.jsx)("h3",{className:"font",children:"Scroll Down to See How to Play"})}),Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-rounded loginregister","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(){return{redirect:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/login"})}}))},children:"Login"}),Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-rounded loginregister","data-mdb-ripple-color":"dark",onClick:function(){e.setState((function(){return{redirect:Object(x.jsx)(i.a,{to:"/Earth3-Frontend/register"})}}))},children:"Register"}),Object(x.jsxs)("div",{className:"bottom",children:[Object(x.jsxs)("h3",{children:["Active Players: ",this.state.numPlayers]}),Object(x.jsxs)("h3",{children:["Total Properties: ",this.state.numProperties]}),Object(x.jsxs)("h3",{children:["Total Revenue Generated: ",this.numberWithCommas(this.state.totalEarnings)]})]}),Object(x.jsxs)("div",{className:"htpt pad",children:[Object(x.jsx)("h1",{children:"How it works:"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:" You are a real player on a map and you have a balance"}),Object(x.jsx)("li",{children:"When you create an account, your player starts in Chapel Hill, NC."}),Object(x.jsx)("li",{children:"You can walk around by clicking on the map walking on the map costs money."}),Object(x.jsx)("li",{children:"You can see all the properties that are within 500 meters of you Each property has 5 tiers"}),Object(x.jsx)("li",{children:"Each tier costs propertyValue^tier"}),Object(x.jsx)("li",{children:"Each tier earns you baseIncome^tier"}),Object(x.jsx)("li",{children:"Your properties pay out every minute, your balance is automatically changed."}),Object(x.jsx)("li",{children:" By default you can only own 5 total properties (any number of tiers in a property is not limited)"}),Object(x.jsx)("li",{children:"You can increase the amount of properties you may have on the account view page"}),Object(x.jsx)("li",{children:"Cost of additional property spaces: (current maximum number of properties)  ^ 3 "}),Object(x.jsx)("li",{children:"You can also increase your per minute payout by upgrading your multiplier"}),Object(x.jsx)("li",{children:"Each 1,000,000 spent on increasing multiplier will increase per minute payout by 1%"}),Object(x.jsx)("li",{children:"Cost for multiplier is constant (1M = 1%) and doesn't increase."}),Object(x.jsx)("li",{children:"User can sell properties if constrained by their current maximum property limit"}),Object(x.jsx)("li",{children:"User will not earn money for selling properties, they simply lose ownership There are over 10,000 properties."}),Object(x.jsx)("li",{children:"We have added a property corresponding to every major American city"}),Object(x.jsx)("li",{children:"We have also added properties corresponding to many buildings on UNC's campus "})]}),Object(x.jsx)("h1",{children:"What we Used:"}),Object(x.jsx)("p",{children:" Heroku : Hosting backend"}),Object(x.jsx)("p",{children:"Github Pages: Hosting Frontend"}),Object(x.jsx)("p",{children:" Node.JS + Express.JS + Mongoose: Implementing Backend"}),Object(x.jsx)("p",{children:" MongoDB: Storing Backend Information"}),Object(x.jsx)("p",{children:" React + Axios + Google Maps API: Implementing Frontend"}),Object(x.jsx)("p",{children:"Bootstrap and CSS: General Styling"}),Object(x.jsx)("p",{children:"https://opencagedata.com: Decoding Coordinates to Addresses"})]})]})}}]),n}(r.a.Component));var M=function(){return Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/Earth3-Frontend/",children:Object(x.jsx)(L,{})}),Object(x.jsx)(i.b,{path:"/Earth3-Frontend/login",children:Object(x.jsx)(g,{})}),Object(x.jsx)(i.b,{path:"/Earth3-Frontend/register",children:Object(x.jsx)(O,{})}),Object(x.jsx)(i.b,{path:"/Earth3-Frontend/personal",children:Object(x.jsx)(k,{})}),Object(x.jsx)(i.b,{path:"/Earth3-Frontend/dashboard",children:Object(x.jsx)(F,{})}),Object(x.jsx)(i.b,{path:"/Earth3-Frontend/leaderboard",children:Object(x.jsx)(P,{})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},B=n(17);o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(B.a,{children:Object(x.jsx)(M,{})})}),document.getElementById("root")),I()}},[[78,1,2]]]);
//# sourceMappingURL=main.be0597d2.chunk.js.map
(this.webpackJsonpfinalproject=this.webpackJsonpfinalproject||[]).push([[0],{39:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(15),i=n.n(s),o=(n(39),n(3)),c=n(5),l=n.n(c),u=n(16),d=n(6),h=n(7),j=n(13),p=n(12),b=n(9),O=n.n(b),x=n(0),f=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).nameFieldChanged=function(e){t.setState((function(){return{nameField:e.target.value}}))},t.emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onRegister=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({method:"post",url:"https://backend-426.herokuapp.com/api/users/register",headers:{"Access-Control-Allow-Origin":"*"},data:{name:t.state.nameField,email:t.state.emailField,password:t.state.passField}});case 3:t.setState((function(){return{status:Object(x.jsx)(o.a,{to:"/426-frontend/login"})}})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),t.state={nameField:"",passField:"",emailField:"",status:""},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"","Name:",Object(x.jsx)("input",{type:"text",onChange:this.nameFieldChanged}),Object(x.jsx)("br",{}),"Email:",Object(x.jsx)("input",{type:"text",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),"Password:",Object(x.jsx)("input",{type:"password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),"Register:",Object(x.jsx)("button",{type:"button",onClick:this.onRegister,children:"Register"})]})}}]),n}(r.a.Component),m={val:""},v=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onLogin=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({method:"post",url:"https://backend-426.herokuapp.com/api/users/login",headers:{"Access-Control-Allow-Origin":"*"},data:{email:t.state.emailField,password:t.state.passField}});case 3:n=e.sent,m.val=n.data.data.token,t.setState((function(){return{status:Object(x.jsx)(o.a,{to:"/426-frontend/dashboard"})}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.state={passField:"",emailField:"",status:""},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[this.state.status,this.state.status?Object(x.jsx)("br",{}):"","Email:",Object(x.jsx)("input",{type:"text",onChange:this.emailFieldChanged}),Object(x.jsx)("br",{}),"Password:",Object(x.jsx)("input",{type:"password",onChange:this.passwordFieldChanged}),Object(x.jsx)("br",{}),"Login:",Object(x.jsx)("button",{type:"button",onClick:this.onLogin,children:"Login"})]})}}]),n}(r.a.Component),g=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).validateToken=function(){return!0},t.onRedirectRequest=function(){t.setState((function(){return{redirect:!0}}))},t.state={},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.val){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":m.val}});case 4:(e=t.sent).data.error&&(window.location.href="../login"),console.log(e),this.setState((function(){return{email:e.data.data.email,name:e.data.data.name,created:e.data.data.accountCreatedDate,balance:e.data.data.balance,maxProperties:e.data.data.maxProperties,experience:e.data.data.experience,location:e.data.data.location,properties:e.data.data.properties.length}}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return m.val&&this.validateToken()?this.state.redirect?Object(x.jsx)(o.a,{to:"/426-frontend/dashboard"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"welcome"}),Object(x.jsx)("button",{onClick:this.onRedirectRequest,children:"Go Back to Dashboard"}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{children:"Account Information:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Email: "}),this.state.email]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Name: "}),this.state.name]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Account Created On: "}),this.state.created]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Balance: "}),this.state.balance]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Maximum Properties: "}),this.state.maxProperties]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Experience: "}),this.state.experience]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Location: "}),this.state.location]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:"Properties: "}),this.state.properties]})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("h1",{children:"Your Properties:"}),Object(x.jsx)("hr",{})]}):Object(x.jsx)(o.a,{to:"/426-frontend/login"})}}]),n}(r.a.Component),k=n(34),w=function(t){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:t.$hover?t.name:"*"})},t.name)};var y=function(t){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:t.name})})},C=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).onAddressLookup=function(t,e){console.log(t,e)},a.clickedMap=function(t){var e=a.distanceInmBetweenEarthCoordinates(a.props.userLat,a.props.userLon,t.lat,t.lng);a.setState((function(){return{walkLat:t.lat,walkLon:t.lng,walkCost:e,shouldShowWalkOffer:!0}}))},a.degreesToRadians=function(t){return t*Math.PI/180},a.state={shouldShowWalkOffer:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var t,e,n=this;return this.state.shouldShowWalkOffer&&(t=Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),"Lat: ",this.state.walkLat,Object(x.jsx)("br",{}),"Lon: ",this.state.walkLon,Object(x.jsx)("br",{}),"Cost: ",this.state.walkCost,Object(x.jsx)("br",{}),this.props.userBalance>this.state.walkCost?Object(x.jsx)("button",{type:"button",onClick:function(){n.props.moveHandler(n.state.walkLat,n.state.walkLon)},children:"Move"}):Object(x.jsx)("button",{type:"button",children:"Insufficient Funds"}),Object(x.jsx)("hr",{})]})),this.props.properties&&(e=this.props.properties.map((function(t){return Object(x.jsx)(w,{location:t.location,name:t.name,lat:t.location[0],lng:t.location[1]},t.location[0]+""+t.location[1])}))),Object(x.jsxs)("div",{children:[t,Object(x.jsx)("div",{style:{width:"500px",height:"500px"},children:Object(x.jsxs)(k.a,{bootstrapURLKeys:{key:"AIzaSyDcN-AS46onnWUOnjCJXpmxr57UjSebDMM",language:"en",region:"US"},center:{lat:this.props.userLat,lng:this.props.userLon},defaultZoom:15,onClick:this.clickedMap,children:[e,Object(x.jsx)(y,{lat:this.props.userLat,lng:this.props.userLon,name:"Me"})]})})]})}},{key:"distanceInmBetweenEarthCoordinates",value:function(t,e,n,a){var r=this.degreesToRadians(n-t),s=this.degreesToRadians(a-e);t=this.degreesToRadians(t),n=this.degreesToRadians(n);var i=Math.sin(r/2)*Math.sin(r/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(n);return 6371e3*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}}]),n}(r.a.Component),S=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"generateBuyButton",value:function(t,e,n){var a=this;return n>this.props.balance?Object(x.jsx)("button",{children:"Not enough $$$"}):Object(x.jsxs)("button",{onClick:function(){a.props.handler(t,e)},children:["Purchase ","".concat(n)]})}},{key:"generateEntries",value:function(){var t=this;return this.props.items&&0!==this.props.items.length?this.props.items.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:e.name}),Object(x.jsxs)("h5",{children:["Hourly Income: ",e.hourlyIncome]}),Object(x.jsxs)("h5",{children:["Base Value: ",e.value]}),Object(x.jsxs)("h5",{children:["Level:",e.level," "]}),Object(x.jsx)("h5",{children:"Owners:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["Tier 1:"," ",e.ownerEmailT1?e.ownerEmailT1:t.generateBuyButton(e._id,1,Math.pow(e.value,1))]}),Object(x.jsxs)("li",{children:["Tier 2:"," ",e.ownerEmailT2?e.ownerEmailT2:t.generateBuyButton(e._id,2,Math.pow(e.value,2))]}),Object(x.jsxs)("li",{children:["Tier 3:"," ",e.ownerEmailT3?e.ownerEmailT3:t.generateBuyButton(e._id,3,Math.pow(e.value,3))]}),Object(x.jsxs)("li",{children:["Tier 4:"," ",e.ownerEmailT4?e.ownerEmailT4:t.generateBuyButton(e._id,4,Math.pow(e.value,4))]}),Object(x.jsxs)("li",{children:["Tier 5:"," ",e.ownerEmailT5?e.ownerEmailT5:t.generateBuyButton(e._id,5,Math.pow(e.value,5))]})]}),Object(x.jsx)("hr",{})]},e._id)})):Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"No nearby properties found..."})})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:this.generateEntries()})}}]),n}(r.a.Component),T=function(t){Object(j.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).validateToken=function(){return!0},t.changePage=function(){t.setState((function(){return{redirect:Object(x.jsx)(o.a,{to:"/426-frontend/personal"})}}))},t.makeMove=function(){var e=Object(u.a)(l.a.mark((function e(n,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"https://backend-426.herokuapp.com/api/user/move",headers:{"auth-token":m.val},data:{lat:n,lon:a}});case 2:return r=e.sent,e.next=5,O()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":m.val},data:{lat:n,lon:a,range:500}});case 5:s=e.sent,t.setState((function(){return{balance:r.data.data.balance,lat:r.data.data.lat,lon:r.data.data.lon,propertiesToShow:s.data}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.makePurchase=function(){var e=Object(u.a)(l.a.mark((function e(n,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"https://backend-426.herokuapp.com/api/property/buy",headers:{"auth-token":m.val},data:{propertyId:n,tier:a}});case 2:return r=e.sent,e.next=5,O()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":m.val},data:{lat:t.state.lat,lon:t.state.lon,range:500}});case 5:s=e.sent,r.data.error?t.setState((function(){return{propertiesToShow:s.data}})):t.setState((function(){return{balance:r.data.data.user.balance,propertiesToShow:s.data}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.state={},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.val&&this.validateToken()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":m.val}});case 4:return(e=t.sent).data.error&&(window.location.href="../login"),t.next=8,O()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":m.val},data:{lat:e.data.data.location[0],lon:e.data.data.location[1],range:500}});case 8:n=t.sent,this.setState((function(){return{balance:e.data.data.balance,lat:e.data.data.location[0],lon:e.data.data.location[1],propertiesToShow:n.data}}));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return m.val&&this.validateToken()?Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"welcome"}),this.state.redirect,Object(x.jsx)("button",{onClick:this.changePage,children:"Go to Account View"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Balance:"}),this.state.balance]}),Object(x.jsx)(C,{userLat:this.state.lat,userLon:this.state.lon,properties:this.state.propertiesToShow,userBalance:this.state.balance,moveHandler:this.makeMove.bind(this)}),Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsx)(S,{items:this.state.propertiesToShow,balance:this.state.balance,handler:this.makePurchase})]})]}):Object(x.jsx)(o.a,{to:"/426-frontend/login"})}}]),n}(r.a.Component);var F=function(){var t=Object(o.g)();return Object(x.jsxs)(o.d,{children:[Object(x.jsxs)(o.b,{exact:!0,path:"/426-frontend/",children:[Object(x.jsx)("p",{children:"Homepage"}),Object(x.jsx)("button",{onClick:function(){t.push("/426-frontend/login")},children:"Move to Login"}),Object(x.jsx)("button",{onClick:function(){t.push("/426-frontend/register")},children:"Move to Register"})]}),Object(x.jsx)(o.b,{path:"/426-frontend/login",children:Object(x.jsx)(v,{})}),Object(x.jsx)(o.b,{path:"/426-frontend/register",children:Object(x.jsx)(f,{})}),Object(x.jsx)(o.b,{path:"/426-frontend/personal",children:Object(x.jsx)(g,{})}),Object(x.jsx)(o.b,{path:"/426-frontend/dashboard",children:Object(x.jsx)(T,{})})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))},L=n(18);i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(L.a,{children:Object(x.jsx)(F,{})})}),document.getElementById("root")),M()}},[[68,1,2]]]);
//# sourceMappingURL=main.03e49739.chunk.js.map
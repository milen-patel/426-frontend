(this.webpackJsonpfinalproject=this.webpackJsonpfinalproject||[]).push([[0],{39:function(t,e,a){},68:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),s=a(13),o=a.n(s),i=(a(39),a(9)),c=a(10),l=a(15),d=a(14),u=a(3),h=a(5),j=a.n(h),p=a(16),b=a(12),f=a.n(b),O=a(0),x=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).nameFieldChanged=function(e){t.setState((function(){return{nameField:e.target.value}}))},t.emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onRegister=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()({method:"post",url:"https://backend-426.herokuapp.com/api/users/register",headers:{"Access-Control-Allow-Origin":"*"},data:{name:t.state.nameField,email:t.state.emailField,password:t.state.passField}});case 3:window.location.href="/426-frontend/login",e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),t.state={nameField:"",passField:"",emailField:"",status:""},t}return Object(c.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[this.state.status,this.state.status?Object(O.jsx)("br",{}):"","Name:",Object(O.jsx)("input",{type:"text",onChange:this.nameFieldChanged}),Object(O.jsx)("br",{}),"Email:",Object(O.jsx)("input",{type:"text",onChange:this.emailFieldChanged}),Object(O.jsx)("br",{}),"Password:",Object(O.jsx)("input",{type:"password",onChange:this.passwordFieldChanged}),Object(O.jsx)("br",{}),"Register:",Object(O.jsx)("button",{type:"button",onClick:this.onRegister,children:"Register"})]})}}]),a}(r.a.Component),m={val:""},v=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).emailFieldChanged=function(e){t.setState((function(){return{emailField:e.target.value}}))},t.passwordFieldChanged=function(e){t.setState((function(){return{passField:e.target.value}}))},t.onLogin=Object(p.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()({method:"post",url:"https://backend-426.herokuapp.com/api/users/login",headers:{"Access-Control-Allow-Origin":"*"},data:{email:t.state.emailField,password:t.state.passField}});case 3:a=e.sent,m.val=a.data.data.token,t.setState((function(){return{status:Object(O.jsx)(u.a,{to:"/426-frontend/dashboard"})}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState((function(){return{status:e.t0.toString()}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.state={passField:"",emailField:"",status:""},t}return Object(c.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[this.state.status,this.state.status?Object(O.jsx)("br",{}):"","Email:",Object(O.jsx)("input",{type:"text",onChange:this.emailFieldChanged}),Object(O.jsx)("br",{}),"Password:",Object(O.jsx)("input",{type:"password",onChange:this.passwordFieldChanged}),Object(O.jsx)("br",{}),"Login:",Object(O.jsx)("button",{type:"button",onClick:this.onLogin,children:"Login"})]})}}]),a}(r.a.Component),g=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).validateToken=function(){return!0},t.state={},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=Object(p.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.val){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":m.val}});case 4:(e=t.sent).data.error&&(window.location.href="../login"),this.setState((function(){return{email:e.data.data.email,name:e.data.data.name,created:e.data.data.accountCreationDate}}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return m.val&&this.validateToken()?Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"welcome"}),Object(O.jsx)("p",{children:this.state.email}),Object(O.jsx)("p",{children:this.state.name}),Object(O.jsx)("p",{children:this.state.created})]}):Object(O.jsx)(u.a,{to:"/426-frontend/login"})}}]),a}(r.a.Component),k=a(34),w=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).validateToken=function(){return!0},t.clickedMap=function(e){var a=t.distanceInmBetweenEarthCoordinates(t.state.lat,t.state.lon,e.lat,e.lng);t.setState((function(){return{walkLat:e.lat,walkLon:e.lng,walkCost:a,shouldShowWalkOffer:!0}}))},t.makeMove=Object(p.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"post",url:"https://backend-426.herokuapp.com/api/user/move",headers:{"auth-token":m.val},data:{lat:t.state.walkLat,lon:t.state.walkLon}});case 2:return a=e.sent,e.next=5,f()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":m.val},data:{lat:a.data.data.lat,lon:a.data.data.lon,range:500}});case 5:n=e.sent,t.setState((function(){return{balance:a.data.data.balance,lat:a.data.data.lat,lon:a.data.data.lon,propertiesToShow:n.data,shouldShowWalkOffer:!1}}));case 7:case"end":return e.stop()}}),e)}))),t.fakeComponent=function(t){return Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:t.txt})})},t.propertyListEntry=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{children:["Name: ",t.info.name]}),Object(O.jsxs)("h5",{children:["Value: ",t.info.value]}),Object(O.jsxs)("h5",{children:["Hourly Income: ",t.info.income]}),Object(O.jsxs)("h5",{children:["Level: ",t.info.level]}),Object(O.jsxs)("h5",{children:["Tier 1 Owner: ",t.info.ownerEmailT1]}),Object(O.jsx)("hr",{})]})},t.walkOffer=function(t){return Object(O.jsx)("div",{children:"TODO"})},t.degreesToRadians=function(t){return t*Math.PI/180},t.state={},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=Object(p.a)(j.a.mark((function t(){var e,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.val&&this.validateToken()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f()({method:"get",url:"https://backend-426.herokuapp.com/api/user/accountInformation",headers:{"auth-token":m.val}});case 4:return(e=t.sent).data.error&&(window.location.href="../login"),t.next=8,f()({method:"post",url:"https://backend-426.herokuapp.com/api/property/nearbyProperties",headers:{"auth-token":m.val},data:{lat:e.data.data.location[0],lon:e.data.data.location[1],range:500}});case 8:a=t.sent,this.setState((function(){return{balance:e.data.data.balance,lat:e.data.data.location[0],lon:e.data.data.location[1],propertiesToShow:a.data}})),console.log(a.data);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e,a,n=this;return m.val&&this.validateToken()?(this.state.propertiesToShow&&(t=this.state.propertiesToShow.map((function(t){return Object(O.jsx)(n.fakeComponent,{lat:t.location[0],lng:t.location[1],txt:t.name},t.name)}))),this.state.propertiesToShow&&(e=this.state.propertiesToShow.map((function(t){return Object(O.jsx)(n.propertyListEntry,{info:t})}))),this.state.shouldShowWalkOffer&&(a=Object(O.jsxs)("div",{children:["Lat: ",this.state.walkLat,Object(O.jsx)("br",{}),"Lon: ",this.state.walkLon,Object(O.jsx)("br",{}),"Cost: ",this.state.walkCost,Object(O.jsx)("br",{}),this.state.balance>this.state.walkCost?Object(O.jsx)("button",{type:"button",onClick:this.makeMove,children:"Move"}):Object(O.jsx)("button",{type:"button",children:"Insufficient Funds"})]})),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"welcome"}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Balance:"}),this.state.balance]}),a,Object(O.jsx)("walkOffer",{}),Object(O.jsx)("div",{style:{width:"500px",height:"500px"},children:Object(O.jsxs)(k.a,{onChange:function(t){return console.log(t)},bootstrapURLKeys:{key:"AIzaSyDcN-AS46onnWUOnjCJXpmxr57UjSebDMM",language:"en",region:"US"},center:{lat:this.state.lat,lng:this.state.lon},defaultZoom:15,onClick:this.clickedMap,children:[Object(O.jsx)(this.fakeComponent,{lat:this.state.lat,lng:this.state.lon,txt:"ME"}),t]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),e]})]})):Object(O.jsx)(u.a,{to:"/426-frontend/login"})}},{key:"distanceInmBetweenEarthCoordinates",value:function(t,e,a,n){var r=this.degreesToRadians(a-t),s=this.degreesToRadians(n-e);t=this.degreesToRadians(t),a=this.degreesToRadians(a);var o=Math.sin(r/2)*Math.sin(r/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(a);return 6371e3*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}}]),a}(r.a.Component),C=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{exact:!0,path:"/426-frontend/",children:Object(O.jsx)("p",{children:"Homepage Move"})}),Object(O.jsx)(u.b,{path:"/426-frontend/login",children:Object(O.jsx)(v,{})}),Object(O.jsx)(u.b,{path:"/426-frontend/register",children:Object(O.jsx)(x,{})}),Object(O.jsx)(u.b,{path:"/426-frontend/accountInfo",children:Object(O.jsx)(g,{})}),Object(O.jsx)(u.b,{path:"/426-frontend/dashboard",children:Object(O.jsx)(w,{})})]})}}]),a}(n.Component),y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,o=e.getTTFB;a(t),n(t),r(t),s(t),o(t)}))},F=a(19);o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(F.a,{children:Object(O.jsx)(C,{})})}),document.getElementById("root")),y()}},[[68,1,2]]]);
//# sourceMappingURL=main.0168fe3e.chunk.js.map